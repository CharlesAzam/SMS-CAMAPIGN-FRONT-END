<div class="container">
    <div class="row">
        <div class="col">
            <mat-card style="margin-top: 30px; margin-bottom: 30px; margin-left: 150px; margin-right: 150px;">
                <div class="header">
                    <h1 class="title">Create {{formType}} Content</h1>
                </div>
                <div class="content">

                    <p *ngIf="errors">{{ errors }}</p>
                    <div *ngIf="isSeriesForm">
                        <form [formGroup]="contentForm">

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Title" formControlName="title" required>
                                <!-- <mat-error *ngIf="title.invalid">Content title can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <textarea matInput placeholder="Description" formControlName="description"
                                    name="description" required></textarea>
                                <!-- <mat-error *ngIf="description.invalid">Description can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Tags</mat-label>
                                    <mat-select formControlName="tags" multiple required>
                                        <ngx-mat-select-search [formControl]="filterTagsCtrl"
                                            [noEntriesFoundLabel]="'Tag not found'" [placeholderLabel]="'Find Tag..'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let ta of filteredTags | async" [value]="ta._id">{{ta.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
            

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <input matInput formControlName="releaseDate" [matDatepicker]="picker"
                                        placeholder="Release Date" name="releaseDate">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                    <!-- <mat-error *ngIf="releaseDate.invalid">Release date can not be empty</mat-error> -->
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Starring" formControlName="starring" name="starring"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Starring can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Director" formControlName="director" name="director"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Director can not be empty</mat-error> -->
                            </mat-form-field>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Categories</mat-label>
                                    <mat-select (selectionChange)="getSubCategories($event)"
                                        formControlName="categories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCategoriesCtrl"
                                            [noEntriesFoundLabel]="'Category not found'"
                                            [placeholderLabel]="'Find Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let category of filteredCategories | async" [value]="category._id">
                                            {{category.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Sub Category</mat-label>
                                    <mat-select formControlName="subCategories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterSubCategoryCtrl"
                                            [noEntriesFoundLabel]="'Sub Category not found'"
                                            [placeholderLabel]="'Find Sub Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let subCategory of filteredSubCategories | async" [value]="subCategory._id">
                                            {{subCategory.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <!-- <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select formControlName="country" required>
                                        <mat-option *ngFor="let count of countries" [value]="count._id">{{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div> -->

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select #countrySelection
                                        formControlName="country" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCountryCtrl"
                                            [noEntriesFoundLabel]="'Country not found'"
                                            [placeholderLabel]="'Find Country...'">
                                        </ngx-mat-select-search>
                                        <mat-option #allSelected (click)="toggleAllSelection()" [value]="0">All</mat-option>
                                        <mat-option *ngFor="let count of filteredCountries | async" [value]="count._id">
                                            {{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Lanugage</mat-label>
                                    <mat-select formControlName="language" required multiple>
                                        <mat-option *ngFor="let lang of languages" [value]="lang._id">
                                            {{lang.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div *ngIf="isSeriesForm">
                                <div class="form-group">
                                    <button mat-raised-button (click)="openDialog()">Add Seasons</button>
                                </div>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Seasons</th>
                                            <th scope="col">Number of Episodes</th>
                                            <th scope="col">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngFor="let season of seasons; let i = index">
                                        <tr>
                                            <th scope="row">{{i+1}}</th>
                                            <td>{{season.title}}</td>
                                            <td>{{season.episode.length}}</td>
                                            <td>
                                                <a style="cursor: pointer;" (click)="openDialog(i)">Edit</a>, <a
                                                    style="cursor: pointer;" (click)="removeSeason(i)">Delete</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="form-group">
                                <mat-label>Status</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="status" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>


                            <div class="form-group">
                                <mat-label>Is Free?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFree" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div class="form-group">
                                <mat-label>Is Free Azam?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFreeForAzam" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div formGroupName="price">
                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Price" type="number" formControlName="price" required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>


                                <div class="form-group">
                                    <mat-form-field style="width: 100%;">
                                        <mat-label>Currency</mat-label>
                                        <mat-select formControlName="currency" required> 
                                            <mat-option *ngFor="let currency of currencies" [value]="currency">
                                                {{currency}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Number of days valid" formControlName="noOfDays"
                                        required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>
                            </div>



                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Bonding Box</mat-label>
                                    <mat-select formControlName="boundingBox" required>
                                        <mat-option *ngFor="let box of boxes" [value]="box">{{box}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>CDNS</mat-label>
                                    <mat-select formControlName="cdnID" required>
                                        <ngx-mat-select-search [formControl]="filterCdnCtrl"
                                            [noEntriesFoundLabel]="'CDN not found'" [placeholderLabel]="'Find CDN...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let cdn of filteredCdns | async" [value]="cdn._id">{{cdn.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Duration" formControlName="duration" name="duration"
                                    required>
                                <!-- <mat-error *ngIf="duration.invalid">Duration can not be empty</mat-error> -->
                            </mat-form-field>

                            <!-- <mat-form-field style="width: 100%;">
                                        <input matInput placeholder="Image Thumbnail" formControlName="imageThumb" name="imageThumb"
                                            required>
                                        <mat-error *ngIf="imageThumb.invalid">Image thumbnail can not be empty</mat-error>
            
                                    </mat-form-field> -->
                            <div class="form-group">
                                <label for="Decription">{{vod?'Change':'Upload'}} Image:</label>
                                <input (change)="handelImageChange($event.target.files)" type="file" accept="image/*"
                                    class="form-control" placeholder="Enter Upload image thumb">

                            </div>
                            <mat-spinner *ngIf='isUploading'></mat-spinner>

                            <div class="form-group" *ngIf='imageUrl'>
                                <img src={{imageUrl}} width="100" height="100" />

                            </div>

                            <div class="form-group">
                                <button (click)="save()" class="btn btn-default">{{vod?'Update':'Save'}}</button>
                            </div>

                        </form>
                    </div>

                    <div *ngIf="isVideoForm">
                        <form [formGroup]="contentForm">

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Title" formControlName="title" required>
                                <!-- <mat-error *ngIf="title.invalid">Content title can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <textarea matInput placeholder="Description" formControlName="description"
                                    name="description" required></textarea>
                                <!-- <mat-error *ngIf="description.invalid">Description can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Tags</mat-label>
                                    <mat-select formControlName="tags" multiple required>
                                        <ngx-mat-select-search [formControl]="filterTagsCtrl"
                                            [noEntriesFoundLabel]="'Tag not found'" [placeholderLabel]="'Find Tag..'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let ta of filteredTags | async" [value]="ta._id">{{ta.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <input matInput formControlName="releaseDate" [matDatepicker]="picker"
                                        placeholder="Release Date" name="releaseDate">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                    <!-- <mat-error *ngIf="releaseDate.invalid">Release date can not be empty</mat-error> -->
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Starring" formControlName="starring" name="starring"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Starring can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Director" formControlName="director" name="director"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Director can not be empty</mat-error> -->
                            </mat-form-field>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Categories</mat-label>
                                    <mat-select (selectionChange)="getSubCategories($event)"
                                        formControlName="categories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCategoriesCtrl"
                                            [noEntriesFoundLabel]="'Category not found'"
                                            [placeholderLabel]="'Find Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let category of filteredCategories | async" [value]="category._id">
                                            {{category.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>




                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Sub Category</mat-label>
                                    <mat-select formControlName="subCategories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterSubCategoryCtrl"
                                            [noEntriesFoundLabel]="'Sub Category not found'"
                                            [placeholderLabel]="'Find Sub Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let subCategory of filteredSubCategories | async" [value]="subCategory._id">
                                            {{subCategory.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <!-- <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select formControlName="country">
                                        <mat-option *ngFor="let count of countries" [value]="count._id">{{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div> -->
                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select #countrySelection
                                        formControlName="country" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCountryCtrl"
                                            [noEntriesFoundLabel]="'Country not found'"
                                            [placeholderLabel]="'Find Country...'">
                                        </ngx-mat-select-search>
                                        <mat-option #allSelected (click)="toggleAllSelection()" [value]="0">All</mat-option>
                                        <mat-option *ngFor="let count of filteredCountries | async" [value]="count._id">
                                            {{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Lanugage</mat-label>
                                    <mat-select formControlName="language" multiple>
                                        <mat-option *ngFor="let lang of languages" [value]="lang._id">
                                            {{lang.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>



                            <div class="form-group">
                                <mat-label>Status</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="status" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>
                            <div class="form-group" *ngIf="vodType === 'VIDEO'">
                                <mat-label>isEpisode</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isEpisode" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>


                            <div class="form-group">
                                <mat-label>Is Free?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFree" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div class="form-group">
                                <mat-label>Is Free Azam?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFreeForAzam" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div formGroupName="price">
                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Price" type="number" formControlName="price" required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>


                                <div class="form-group">
                                    <mat-form-field style="width: 100%;">
                                        <mat-label>Currency</mat-label>
                                        <mat-select formControlName="currency" required>
                                            <mat-option *ngFor="let currency of currencies" [value]="currency">
                                                {{currency}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Number of days valid" formControlName="noOfDays"
                                        required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>
                            </div>



                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Bonding Box</mat-label>
                                    <mat-select formControlName="boundingBox" required>
                                        <mat-option *ngFor="let box of boxes" [value]="box">{{box}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>CDNS</mat-label>
                                    <mat-select formControlName="cdnID" required>
                                        <ngx-mat-select-search [formControl]="filterCdnCtrl"
                                            [noEntriesFoundLabel]="'CDN not found'" [placeholderLabel]="'Find CDN...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let cdn of filteredCdns | async" [value]="cdn._id">{{cdn.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Duration" formControlName="duration" name="duration"
                                    >
                                <!-- <mat-error *ngIf="duration.invalid">Duration can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <label for="Decription">{{vod?'Change':'Upload'}} Image:</label>
                                <input (change)="handelImageChange($event.target.files)" type="file" accept="image/*"
                                    class="form-control" placeholder="Enter Upload image thumb">

                            </div>
                            <mat-spinner *ngIf='isUploading'></mat-spinner>

                            <div class="form-group" *ngIf='imageUrl'>
                                <img src={{imageUrl}} width="100" height="100" />

                            </div>

                            <div class="form-group">
                                <button (click)="save()" class="btn btn-default">{{vod?'Update':'Save'}}</button>
                            </div>

                        </form>
                    </div>

                    <div *ngIf="isLiveTvForm">
                        <form [formGroup]="contentForm">

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Title" formControlName="title" required>
                                <!-- <mat-error *ngIf="title.invalid">Content title can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <textarea matInput placeholder="Description" formControlName="description"
                                    name="description" required></textarea>
                                <!-- <mat-error *ngIf="description.invalid">Description can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Tags</mat-label>
                                    <mat-select formControlName="tags" multiple required>
                                        <ngx-mat-select-search [formControl]="filterTagsCtrl"
                                            [noEntriesFoundLabel]="'Tag not found'" [placeholderLabel]="'Find Tag..'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let ta of filteredTags | async" [value]="ta._id">{{ta.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <input matInput formControlName="releaseDate" [matDatepicker]="picker"
                                        placeholder="Release Date" name="releaseDate">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                    <!-- <mat-error *ngIf="releaseDate.invalid">Release date can not be empty</mat-error> -->
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Starring" formControlName="starring" name="starring"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Starring can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Director" formControlName="director" name="director"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Director can not be empty</mat-error> -->
                            </mat-form-field>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Categories</mat-label>
                                    <mat-select (selectionChange)="getSubCategories($event)"
                                        formControlName="categories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCategoriesCtrl"
                                            [noEntriesFoundLabel]="'Category not found'"
                                            [placeholderLabel]="'Find Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let category of filteredCategories | async" [value]="category._id">
                                            {{category.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>




                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Sub Category</mat-label>
                                    <mat-select formControlName="subCategories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterSubCategoryCtrl"
                                            [noEntriesFoundLabel]="'Sub Category not found'"
                                            [placeholderLabel]="'Find Sub Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let subCategory of filteredSubCategories | async" [value]="subCategory._id">
                                            {{subCategory.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <!-- <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select formControlName="country">
                                        <mat-option *ngFor="let count of countries" [value]="count._id">{{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div> -->
                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select #countrySelection
                                        formControlName="country" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCountryCtrl"
                                            [noEntriesFoundLabel]="'Country not found'"
                                            [placeholderLabel]="'Find Country...'">
                                        </ngx-mat-select-search>
                                        <mat-option #allSelected (click)="toggleAllSelection()" [value]="0">All</mat-option>
                                        <mat-option *ngFor="let count of filteredCountries | async" [value]="count._id">
                                            {{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Lanugage</mat-label>
                                    <mat-select formControlName="language" multiple> 
                                        <mat-option *ngFor="let lang of languages" [value]="lang._id">
                                            {{lang.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Reference channel</mat-label>
                                    <mat-select formControlName="referenceChannelID" required>
                                        <mat-option *ngFor="let channel of channels" [value]="channel.channel_id">
                                            {{channel.channel_name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>



                            <div class="form-group">
                                <mat-label>Status</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="status" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>
                            <div class="form-group" *ngIf="vodType === 'VIDEO'">
                                <mat-label>isEpisode</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isEpisode" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>


                            <div class="form-group">
                                <mat-label>Is Free?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFree" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div class="form-group">
                                <mat-label>Is Free Azam?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFreeForAzam" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div formGroupName="price">
                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Price" type="number" formControlName="price" required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>


                                <div class="form-group">
                                    <mat-form-field style="width: 100%;">
                                        <mat-label>Currency</mat-label>
                                        <mat-select formControlName="currency" required>
                                            <mat-option *ngFor="let currency of currencies" [value]="currency">
                                                {{currency}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Number of days valid" formControlName="noOfDays"
                                        required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>
                            </div>



                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Bonding Box</mat-label>
                                    <mat-select formControlName="boundingBox" required>
                                        <mat-option *ngFor="let box of boxes" [value]="box">{{box}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>CDNS</mat-label>
                                    <mat-select formControlName="cdnID" required>
                                        <ngx-mat-select-search [formControl]="filterCdnCtrl"
                                            [noEntriesFoundLabel]="'CDN not found'" [placeholderLabel]="'Find CDN...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let cdn of filteredCdns | async" [value]="cdn._id">{{cdn.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Duration" formControlName="duration" name="duration"
                                    >
                                <!-- <mat-error *ngIf="duration.invalid">Duration can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <label for="Decription">{{vod?'Change':'Upload'}} Image:</label>
                                <input (change)="handelImageChange($event.target.files)" type="file" accept="image/*"
                                    class="form-control" placeholder="Enter Upload image thumb">

                            </div>
                            <mat-spinner *ngIf='isUploading'></mat-spinner>

                            <div class="form-group" *ngIf='imageUrl'>
                                <img src={{imageUrl}} width="100" height="100" />

                            </div>

                            <div class="form-group">
                                <button (click)="save()" class="btn btn-default">{{vod?'Update':'Save'}}</button>
                            </div>

                        </form>
                    </div>

                    <div *ngIf="isRadioForm">
                        <form [formGroup]="contentForm">

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Title" formControlName="title" required>
                                <!-- <mat-error *ngIf="title.invalid">Content title can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <textarea matInput placeholder="Description" formControlName="description"
                                    name="description" required></textarea>
                                <!-- <mat-error *ngIf="description.invalid">Description can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Tags</mat-label>
                                    <mat-select formControlName="tags" multiple required>
                                        <ngx-mat-select-search [formControl]="filterTagsCtrl"
                                            [noEntriesFoundLabel]="'Tag not found'" [placeholderLabel]="'Find Tag..'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let ta of filteredTags | async" [value]="ta._id">{{ta.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <!--
                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Package</mat-label>
                                    <mat-select formControlName="packageID" multiple required>
                                        <mat-option *ngFor="let pack of packages" [value]="pack._id">{{pack.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            -->

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Starring" formControlName="starring" name="starring"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Starring can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Director" formControlName="director" name="director"
                                    >
                                <!-- <mat-error *ngIf="starring.invalid">Director can not be empty</mat-error> -->
                            </mat-form-field>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Categories</mat-label>
                                    <mat-select (selectionChange)="getSubCategories($event)"
                                        formControlName="categories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCategoriesCtrl"
                                            [noEntriesFoundLabel]="'Category not found'"
                                            [placeholderLabel]="'Find Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let category of filteredCategories | async" [value]="category._id">
                                            {{category.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Sub Category</mat-label>
                                    <mat-select formControlName="subCategories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterSubCategoryCtrl"
                                            [noEntriesFoundLabel]="'Sub Category not found'"
                                            [placeholderLabel]="'Find Sub Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let subCategory of filteredSubCategories | async" [value]="subCategory._id">
                                            {{subCategory.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <!-- <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select formControlName="country">
                                        <mat-option *ngFor="let count of countries" [value]="count._id">{{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div> -->
                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select #countrySelection
                                        formControlName="country" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCountryCtrl"
                                            [noEntriesFoundLabel]="'Country not found'"
                                            [placeholderLabel]="'Find Country...'">
                                        </ngx-mat-select-search>
                                        <mat-option #allSelected (click)="toggleAllSelection()" [value]="0">All</mat-option>
                                        <mat-option *ngFor="let count of filteredCountries | async" [value]="count._id">
                                            {{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Lanugage</mat-label>
                                    <mat-select formControlName="language" multiple>
                                        <mat-option *ngFor="let lang of languages" [value]="lang._id">
                                            {{lang.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-label>Status</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="status" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>


                            <div class="form-group">
                                <mat-label>Is Free?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFree" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div class="form-group">
                                <mat-label>Is Free Azam?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFreeForAzam" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div formGroupName="price">
                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Price" type="number" formControlName="price" required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>


                                <div class="form-group">
                                    <mat-form-field style="width: 100%;">
                                        <mat-label>Currency</mat-label>
                                        <mat-select formControlName="currency">
                                            <mat-option *ngFor="let currency of currencies" [value]="currency">
                                                {{currency}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <mat-form-field style="width: 100%;">
                                    <input matInput placeholder="Number of days valid" formControlName="noOfDays"
                                        required>
                                    <!-- <mat-error *ngIf="starring.invalid">Language Details can not be empty</mat-error> -->

                                </mat-form-field>
                            </div>



                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Bonding Box</mat-label>
                                    <mat-select formControlName="boundingBox" required>
                                        <mat-option *ngFor="let box of boxes" [value]="box">{{box}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>CDNS</mat-label>
                                    <mat-select formControlName="cdnID" required>
                                        <ngx-mat-select-search [formControl]="filterCdnCtrl"
                                            [noEntriesFoundLabel]="'CDN not found'" [placeholderLabel]="'Find CDN...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let cdn of filteredCdns | async" [value]="cdn._id">{{cdn.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Duration" formControlName="duration" name="duration"
                                    required>
                                <!-- <mat-error *ngIf="duration.invalid">Duration can not be empty</mat-error> -->
                            </mat-form-field>

                            <!-- <mat-form-field style="width: 100%;">
                                                <input matInput placeholder="Image Thumbnail" formControlName="imageThumb" name="imageThumb"
                                                    required>
                                                <mat-error *ngIf="imageThumb.invalid">Image thumbnail can not be empty</mat-error>
                    
                                            </mat-form-field> -->
                            <div class="form-group">
                                <label for="Decription">{{vod?'Change':'Upload'}} Image:</label>
                                <input (change)="handelImageChange($event.target.files)" type="file" accept="image/*"
                                    class="form-control" placeholder="Enter Upload image thumb">

                            </div>
                            <mat-spinner *ngIf='isUploading'></mat-spinner>

                            <div class="form-group" *ngIf='imageUrl'>
                                <img src={{imageUrl}} width="100" height="100" />

                            </div>

                            <div class="form-group">
                                <button [disabled]="!contentForm.valid" (click)="save()" class="btn btn-default">{{vod?'Update':'Save'}}</button>
                            </div>

                        </form>
                    </div>

                    <div *ngIf="isNewsForm">
                        <form [formGroup]="contentForm">

                            <mat-form-field style="width: 100%;">
                                <input matInput placeholder="Title" formControlName="title" required>
                                <!-- <mat-error *ngIf="title.invalid">Content title can not be empty</mat-error> -->
                            </mat-form-field>

                            <mat-form-field style="width: 100%;">
                                <textarea matInput placeholder="Description" formControlName="description"
                                    name="description" required></textarea>
                                <!-- <mat-error *ngIf="description.invalid">Description can not be empty</mat-error> -->
                            </mat-form-field>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Tags</mat-label>
                                    <mat-select formControlName="tags" multiple required>
                                        <ngx-mat-select-search [formControl]="filterTagsCtrl"
                                            [noEntriesFoundLabel]="'Tag not found'" [placeholderLabel]="'Find Tag..'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let ta of filteredTags | async" [value]="ta._id">{{ta.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Categories</mat-label>
                                    <mat-select (selectionChange)="getSubCategories($event)"
                                        formControlName="categories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCategoriesCtrl"
                                            [noEntriesFoundLabel]="'Category not found'"
                                            [placeholderLabel]="'Find Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let category of filteredCategories | async" [value]="category._id">
                                            {{category.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Sub Category</mat-label>
                                    <mat-select formControlName="subCategories" multiple required>
                                        <ngx-mat-select-search [formControl]="filterSubCategoryCtrl"
                                            [noEntriesFoundLabel]="'Sub Category not found'"
                                            [placeholderLabel]="'Find Sub Category...'">
                                        </ngx-mat-select-search>
                                        <mat-option *ngFor="let subCategory of filteredSubCategories | async" [value]="subCategory._id">
                                            {{subCategory.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field style="width: 100%;">
                                    <mat-label>Country</mat-label>
                                    <mat-select #countrySelection
                                        formControlName="country" multiple required>
                                        <ngx-mat-select-search [formControl]="filterCountryCtrl"
                                            [noEntriesFoundLabel]="'Country not found'"
                                            [placeholderLabel]="'Find Country...'">
                                        </ngx-mat-select-search>
                                        <mat-option #allSelected (click)="toggleAllSelection()" [value]="0">All</mat-option>
                                        <mat-option *ngFor="let count of filteredCountries | async" [value]="count._id">
                                            {{count.country}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="row" style="width: 100%;">
                                <div>
                                    <mat-card class="col-sm-3 col-md-3" *ngFor="let image of images; let i = index;"
                                        style="margin: 10px">
                                        <img src={{image}} width="200" height="200" />
                                        <mat-card-actions>
                                            <button mat-button (click)="removeImage(i)">DELETE</button>
                                        </mat-card-actions>
                                    </mat-card>
                                </div>

                            </div>

                            <div class="form-group">
                                <button mat-raised-button (click)="openImagesDialog()">Add Images</button>
                            </div>

                            <div class="form-group">
                                <mat-label>Status</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="status" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>


                            <div class="form-group">
                                <mat-label>Is Free?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFree" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div class="form-group">
                                <mat-label>Is Free Azam?</mat-label>
                                <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style"
                                    formControlName="isFreeForAzam" style="margin-left: 10px;" required>
                                    <mat-button-toggle value=true>TRUE</mat-button-toggle>
                                    <mat-button-toggle value=false>FALSE</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>

                            <div class="form-group">
                                <label for="Decription">{{vod?'Change':'Upload'}} Image:</label>
                                <input (change)="handelImageChange($event.target.files)" type="file" accept="image/*"
                                    class="form-control" placeholder="Enter Upload image thumb">

                            </div>
                            <mat-spinner *ngIf='isUploading'></mat-spinner>

                            <div class="form-group" *ngIf='imageUrl'>
                                <img src={{imageUrl}} width="100" height="100" />

                            </div>

                            <div class="form-group">
                                <button (click)="save()" class="btn btn-default">{{vod?'Update':'Save'}}</button>
                            </div>

                        </form>
                    </div>

                </div>
            </mat-card>
        </div>
    </div>
</div>